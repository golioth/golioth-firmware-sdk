sample:
  description: Say Hello to Golioth server
  name: hello
tests:
  sample.golioth.hello:
    harness: pytest
    tags:
      - golioth
      - socket
      - goliothd
    timeout: 180
    extra_configs:
      - CONFIG_GOLIOTH_SAMPLE_TWISTER_TEST=y
      - arch:posix:CONFIG_NATIVE_UART_0_ON_STDINOUT=y
    extra_args:
      - platform:nrf52840dk/nrf52840:SHIELD=golioth_esp_at
    platform_allow:
      - esp32s3_devkitc/esp32s3/procpu
      - frdm_rw612
      - native_sim
      - native_sim/native/64
      - nrf52840dk/nrf52840
      - nrf9160dk/nrf9160/ns
      - nucleo_h563zi/stm32h563xx
      - rak5010/nrf52840
  sample.golioth.hello.psa_crypto:
    harness: pytest
    tags:
      - golioth
      - socket
      - goliothd
    timeout: 180
    extra_configs:
      - CONFIG_GOLIOTH_SAMPLE_TWISTER_TEST=y
      - arch:posix:CONFIG_NATIVE_UART_0_ON_STDINOUT=y
      - CONFIG_MBEDTLS_PSA_CRYPTO_C=y
    platform_allow:
      - esp32s3_devkitc/esp32s3/procpu
      - frdm_rw612
      - native_sim
      - native_sim/native/64
      - nrf52840dk/nrf52840
      - nrf9160dk/nrf9160/ns
      - nucleo_h563zi/stm32h563xx
      - rak5010/nrf52840
  sample.golioth.hello.cid:
    harness: pytest
    tags:
      - golioth
      - socket
      - goliothd
    timeout: 180
    extra_configs:
      - CONFIG_GOLIOTH_SAMPLE_TWISTER_TEST=y
      - CONFIG_GOLIOTH_USE_CONNECTION_ID=y
      - arch:posix:CONFIG_NATIVE_UART_0_ON_STDINOUT=y
    extra_args:
      - platform:nrf52840dk/nrf52840:SHIELD=golioth_esp_at
    platform_allow:
      - esp32s3_devkitc/esp32s3/procpu
      - frdm_rw612
      - native_sim
      - native_sim/native/64
      - nrf52840dk/nrf52840
      - nrf9160dk/nrf9160/ns
      - nucleo_h563zi/stm32h563xx
      - rak5010/nrf52840
  sample.golioth.hello.openthread.buildonly:
    build_only: true
    harness: pytest
    tags:
      - golioth
      - socket
      - goliothd
    timeout: 180
    extra_configs:
      - CONFIG_OPENTHREAD_NORDIC_LIBRARY_MASTER=y
      - CONFIG_OPENTHREAD_LIBRARY=y
      - CONFIG_OPENTHREAD_SOURCES=y
      - CONFIG_NET_L2_OPENTHREAD=y
      - CONFIG_OPENTHREAD_CHANNEL=26
      - CONFIG_OPENTHREAD_PANID=34739
      - CONFIG_OPENTHREAD_NETWORKKEY="00:11:22:33:44:55:66:77:88:99:aa:bb:cc:dd:ee:ff"
      - CONFIG_OPENTHREAD_NETWORK_NAME="golioth-thread"
    platform_allow:
      - nrf9160dk/nrf52840
